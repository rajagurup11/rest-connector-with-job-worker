{
  "$schema": "https://unpkg.com/@camunda/zeebe-element-templates-json-schema/resources/schema.json",
  "name": "REST Outbound Connector",
  "id": "io.camunda.connectors.HttpJson.v2",
  "description": "Invoke REST API",
  "documentationRef": "https://docs.camunda.io/docs/components/connectors/protocol/rest/",
  "version": 8,
  "category": {
    "id": "connectors",
    "name": "Connectors"
  },
  "appliesTo": ["bpmn:Task"],
  "elementType": {
    "value": "bpmn:ServiceTask"
  },
  "groups": [
    {
      "id": "authentication",
      "label": "Authentication"
    },
    {
      "id": "endpoint",
      "label": "HTTP endpoint"
    },
    {
      "id": "timeout",
      "label": "Connection timeout"
    },
    {
      "id": "payload",
      "label": "Payload"
    },
    {
      "id": "output",
      "label": "Output mapping"
    },
    {
      "id": "error",
      "label": "Error handling"
    },
    {
      "id": "retries",
      "label": "Retries"
    }
  ],
  "properties": [
    {
      "value": "io.camunda:http-json:1",
      "binding": {
        "property": "type",
        "type": "zeebe:taskDefinition"
      },
      "type": "Hidden"
    },
    {
      "id": "authentication.type",
      "label": "Type",
      "description": "Choose the authentication type. Select 'None' if no authentication is necessary.",
      "value": "noAuth",
      "group": "authentication",
      "binding": {
        "name": "authentication.type",
        "type": "zeebe:input"
      },
      "type": "Dropdown",
      "choices": [
        {
          "name": "None",
          "value": "noAuth"
        },
        {
          "name": "ADFS",
          "value": "adfs"
        }
      ]
    },
    {
      "id": "authentication.appId",
      "label": "App ID",
      "optional": false,
      "constraints": {
        "notEmpty": true
      },
      "group": "authentication",
      "binding": {
        "name": "authentication.appId",
        "type": "zeebe:input"
      },
      "condition": {
        "property": "authentication.type",
        "equals": "adfs",
        "type": "simple"
      },
      "type": "String"
    },
    {
      "id": "authentication.clientId",
      "label": "Client ID",
      "optional": false,
      "constraints": {
        "notEmpty": true
      },
      "group": "authentication",
      "binding": {
        "name": "authentication.clientId",
        "type": "zeebe:input"
      },
      "condition": {
        "property": "authentication.type",
        "equals": "adfs",
        "type": "simple"
      },
      "type": "String"
    },
    {
      "id": "authentication.protectedResourceUri",
      "label": "Protected Resource URI",
      "optional": false,
      "constraints": {
        "notEmpty": true,
        "pattern": {
          "value": "^(=|(http://|https://|secrets|\\{\\{).*$)",
          "message": "Must be a http(s) URL"
        }
      },
      "group": "authentication",
      "binding": {
        "name": "authentication.protectedResourceUri",
        "type": "zeebe:input"
      },
      "condition": {
        "property": "authentication.type",
        "equals": "adfs",
        "type": "simple"
      },
      "type": "String"
    },
    {
      "id": "authentication.authServerUrl",
      "label": "Auth Server URL",
      "optional": false,
      "constraints": {
        "notEmpty": true,
        "pattern": {
          "value": "^(=|(http://|https://|secrets|\\{\\{).*$)",
          "message": "Must be a http(s) URL"
        }
      },
      "group": "authentication",
      "binding": {
        "name": "authentication.authServerUrl",
        "type": "zeebe:input"
      },
      "condition": {
        "property": "authentication.type",
        "equals": "adfs",
        "type": "simple"
      },
      "type": "String"
    },
    {
      "id": "method",
      "label": "Method",
      "optional": false,
      "value": "GET",
      "constraints": {
        "notEmpty": true
      },
      "group": "endpoint",
      "binding": {
        "name": "method",
        "type": "zeebe:input"
      },
      "type": "Dropdown",
      "choices": [
        {
          "name": "DELETE",
          "value": "DELETE"
        },
        {
          "name": "POST",
          "value": "POST"
        },
        {
          "name": "GET",
          "value": "GET"
        },
        {
          "name": "PATCH",
          "value": "PATCH"
        },
        {
          "name": "PUT",
          "value": "PUT"
        }
      ]
    },
    {
      "id": "url",
      "label": "URL",
      "optional": false,
      "constraints": {
        "notEmpty": true,
        "pattern": {
          "value": "^(=|(http://|https://|secrets|\\{\\{).*$)",
          "message": "Must be a http(s) URL"
        }
      },
      "group": "endpoint",
      "binding": {
        "name": "url",
        "type": "zeebe:input"
      },
      "type": "String"
    }
  ]
}
